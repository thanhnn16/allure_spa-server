import{Z as y}from"./@inertiajs-D0DMCEQB.js";import{L as _}from"./LayoutAuthenticated-1mZ-ihck.js";import{_ as w}from"./SectionMain-Vot1TOkK.js";import{_ as m}from"./CardBox-jfYP3QDG.js";import{_ as g}from"./BaseButton-eMTGofBM.js";import{c as C,d as T}from"./@mdi-C-p5d_Pb.js";import{a as $}from"./axios-CCb-kr4I.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{aU as s,a0 as N,bH as n,aa as o,bl as u,a3 as t,bf as a,a2 as i,b0 as p,j as x,F as k,a1 as b}from"./@vue-BRgAy5zV.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./app-DGNt6JTK.js";import"./jspdf-Ciebq7We.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./laravel-echo-C9ppFO4I.js";import"./pusher-js-Cl-1XqxI.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./pinia-BhnhDyRZ.js";import"./vue-toastification-ejyjJRED.js";import"./firebase-DL3QX-oU.js";import"./@firebase--zA4YiqN.js";import"./idb-Bn1DMRyg.js";import"./BaseIcon-B4kwkOCn.js";import"./colors-S7_1wET5.js";import"./OverlayLayer-BSs7OF78.js";const L={class:"grid grid-cols-2 gap-4"},B={class:"overflow-x-auto rounded-lg border border-gray-200 dark:border-dark-border"},q={class:"w-full text-left table-auto text-sm"},A={class:"divide-y divide-gray-200 dark:divide-dark-border"},D={class:"p-4 dark:text-dark-text"},E={class:"font-medium"},G={class:"text-sm text-gray-500 dark:text-dark-muted"},j={class:"p-4 dark:text-dark-text"},F={class:"p-4 dark:text-dark-text"},H={class:"p-4 dark:text-dark-text"},M={class:"p-4"},P={class:"flex items-center gap-2"},z={class:"relative inline-block w-10 mr-2 align-middle select-none"},I=["id","checked","onChange"],K=["for"],O={key:0},U={class:"overflow-x-auto rounded-lg border border-gray-200 dark:border-dark-border"},Z={class:"w-full text-left table-auto"},J={class:"divide-y divide-gray-200 dark:divide-dark-border"},Q={class:"p-4 dark:text-dark-text"},R={class:"font-medium"},W={class:"text-sm text-gray-500 dark:text-dark-muted"},X={class:"p-4 dark:text-dark-text font-medium"},Y={class:"p-4 dark:text-dark-text text-green-600 dark:text-green-400"},V={class:"p-4"},tt={class:"p-4 dark:text-dark-text"},et={key:0},rt={__name:"Show",props:{voucher:{type:Object,required:!0},userVouchers:{type:Array,required:!0},orders:{type:Array,required:!0}},setup(d){const h=async l=>{try{await $.patch(route("vouchers.toggle-status",l.id))}catch(e){console.error("Error toggling status:",e)}},f=l=>{},v=l=>{};return(l,e)=>(s(),N(_,null,{default:n(()=>[o(u(y),{title:"Chi tiết Voucher"}),o(w,{breadcrumbs:[{label:"Vouchers",href:l.route("vouchers.index")},{label:"Chi tiết Voucher",href:l.route("vouchers.show",d.voucher.id)}]},{default:n(()=>[o(m,{class:"mb-6"},{default:n(()=>[e[9]||(e[9]=t("h2",{class:"text-xl font-semibold mb-4"},"Thông tin cơ bản",-1)),t("div",L,[t("div",null,[e[0]||(e[0]=t("p",{class:"font-medium"},"Mã voucher:",-1)),t("p",null,a(d.voucher.code),1)]),t("div",null,[e[1]||(e[1]=t("p",{class:"font-medium"},"Mô tả:",-1)),t("p",null,a(d.voucher.description),1)]),t("div",null,[e[2]||(e[2]=t("p",{class:"font-medium"},"Loại giảm giá:",-1)),t("p",null,a(d.voucher.discount_type==="percentage"?"Phần trăm":"Số tiền cố định"),1)]),t("div",null,[e[3]||(e[3]=t("p",{class:"font-medium"},"Giá trị giảm:",-1)),t("p",null,a(d.voucher.formatted_discount),1)]),t("div",null,[e[4]||(e[4]=t("p",{class:"font-medium"},"Đơn hàng tối thiểu:",-1)),t("p",null,a(d.voucher.min_order_value_formatted),1)]),t("div",null,[e[5]||(e[5]=t("p",{class:"font-medium"},"Giảm tối đa:",-1)),t("p",null,a(d.voucher.max_discount_amount_formatted),1)]),t("div",null,[e[6]||(e[6]=t("p",{class:"font-medium"},"Thời gian bắt đầu:",-1)),t("p",null,a(d.voucher.start_date_formatted),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"font-medium"},"Thời gian kết thúc:",-1)),t("p",null,a(d.voucher.end_date_formatted),1)]),t("div",null,[e[8]||(e[8]=t("p",{class:"font-medium"},"Trạng thái:",-1)),t("p",null,a(d.voucher.status==="active"?"Đang hoạt động":"Không hoạt động"),1)])])]),_:1}),o(m,{class:"mb-6"},{default:n(()=>[e[12]||(e[12]=t("h2",{class:"text-xl font-semibold mb-4 dark:text-dark-text"},"Danh sách người dùng được cấp voucher",-1)),t("div",B,[t("table",q,[e[11]||(e[11]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-dark-surface border-b border-gray-200 dark:border-dark-border"},[t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Người dùng"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Số lần còn lại"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Tổng số lần"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Ngày cấp"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium w-24"},"Thao tác")])],-1)),t("tbody",A,[(s(!0),i(k,null,p(d.userVouchers,r=>(s(),i("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-dark-hover transition-colors"},[t("td",D,[t("div",E,a(r.user.name),1),t("div",G,a(r.user.email),1)]),t("td",j,[t("span",{class:x(["px-2 py-1 rounded-full text-sm",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":r.remaining_uses>0,"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":r.remaining_uses===0}])},a(r.remaining_uses),3)]),t("td",F,a(r.total_uses),1),t("td",H,a(r.created_at_formatted),1),t("td",M,[t("div",P,[o(g,{icon:u(C),color:"info",small:!0,class:"hover:bg-blue-100 dark:hover:bg-blue-900",onClick:c=>f(r.id)},null,8,["icon","onClick"]),o(g,{icon:u(T),color:"warning",small:!0,class:"hover:bg-yellow-100 dark:hover:bg-yellow-900",onClick:c=>v(r.id)},null,8,["icon","onClick"]),t("div",z,[t("input",{type:"checkbox",id:`toggle-${r.id}`,checked:r.status==="active",onChange:c=>h(r),class:"toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer transition-transform duration-200 ease-in-out"},null,40,I),t("label",{for:`toggle-${r.id}`,class:"toggle-label block overflow-hidden h-5 rounded-full cursor-pointer bg-gray-300 dark:bg-gray-700"},null,8,K)])])])]))),128)),d.userVouchers.length===0?(s(),i("tr",O,e[10]||(e[10]=[t("td",{colspan:"4",class:"p-8 text-center text-gray-500 dark:text-dark-muted"},[t("div",{class:"flex flex-col items-center"},[t("span",{class:"text-lg mb-2"},"Chưa có dữ liệu"),t("span",{class:"text-sm"},"Chưa có người dùng nào được cấp voucher này")])],-1)]))):b("",!0)])])])]),_:1}),o(m,null,{default:n(()=>[e[15]||(e[15]=t("h2",{class:"text-xl font-semibold mb-4 dark:text-dark-text"},"Lịch sử sử dụng trong đơn hàng",-1)),t("div",U,[t("table",Z,[e[14]||(e[14]=t("thead",null,[t("tr",{class:"bg-gray-50 dark:bg-dark-surface border-b border-gray-200 dark:border-dark-border"},[t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Người dùng"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Giá trị đơn hàng"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Số tiền giảm"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Trạng thái"),t("th",{class:"p-4 text-gray-700 dark:text-dark-text font-medium"},"Thời gian")])],-1)),t("tbody",J,[(s(!0),i(k,null,p(d.orders,r=>(s(),i("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-dark-hover transition-colors"},[t("td",Q,[t("div",R,a(r.user.name),1),t("div",W,a(r.user.email),1)]),t("td",X,a(r.total_amount_formatted),1),t("td",Y," -"+a(r.discount_amount_formatted),1),t("td",V,[t("span",{class:x({"px-3 py-1 rounded-full text-sm":!0,"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300":r.status==="pending","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":r.status==="confirmed","bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300":r.status==="shipping","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":r.status==="completed","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":r.status==="cancelled"})},a({pending:"Chờ xử lý",confirmed:"Đã xác nhận",shipping:"Đang giao hàng",completed:"Hoàn thành",cancelled:"Đã hủy"}[r.status]),3)]),t("td",tt,a(r.created_at_formatted),1)]))),128)),d.orders.length===0?(s(),i("tr",et,e[13]||(e[13]=[t("td",{colspan:"5",class:"p-8 text-center text-gray-500 dark:text-dark-muted"},[t("div",{class:"flex flex-col items-center"},[t("span",{class:"text-lg mb-2"},"Chưa có dữ liệu"),t("span",{class:"text-sm"},"Chưa có đơn hàng nào sử dụng voucher này")])],-1)]))):b("",!0)])])])]),_:1})]),_:1},8,["breadcrumbs"])]),_:1}))}},Zt=S(rt,[["__scopeId","data-v-f16d864b"]]);export{Zt as default};
