import{_ as f}from"./BaseButton-eMTGofBM.js";import{a as y}from"./axios-CCb-kr4I.js";import{u as w}from"./vue-toastification-ejyjJRED.js";import{r as c,e as v,o as k,aU as s,a2 as n,a3 as t,F as u,b0 as h,bf as o,a0 as b,bH as B,a9 as D}from"./@vue-BRgAy5zV.js";import"./@inertiajs-D0DMCEQB.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./colors-S7_1wET5.js";import"./BaseIcon-B4kwkOCn.js";const V={class:"overflow-x-auto"},C={class:"min-w-full divide-y divide-gray-200"},H={class:"bg-white divide-y divide-gray-200"},L={class:"px-6 py-4 whitespace-nowrap"},N={class:"px-6 py-4 whitespace-nowrap"},S={class:"px-6 py-4 whitespace-nowrap"},T={class:"px-6 py-4 whitespace-nowrap"},F={class:"mt-4 flex justify-center"},M={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},pt={__name:"RedemptionHistory",props:{search:String},setup(_){const l=_,x=w(),d=c([]),m=c(!1),i=c({current_page:1,total:0,per_page:10}),p=async(r=1)=>{try{m.value=!0;const a=await y.get("/rewards/history",{params:{page:r,search:l.search}});d.value=a.data.data,i.value={current_page:a.data.current_page,total:a.data.total,per_page:a.data.per_page}}catch{x.error("Lỗi khi tải lịch sử đổi thưởng")}finally{m.value=!1}},g=r=>new Date(r).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return v(()=>l.search,r=>{p(1)}),k(()=>{p()}),(r,a)=>(s(),n("div",V,[t("table",C,[a[0]||(a[0]=t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Thời gian "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Khách hàng "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Phần thưởng "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Điểm đã dùng ")])],-1)),t("tbody",H,[(s(!0),n(u,null,h(d.value,e=>(s(),n("tr",{key:e.id},[t("td",L,o(g(e.created_at)),1),t("td",N,o(e.user.full_name),1),t("td",S,o(e.reward_item.name),1),t("td",T,o(e.points_used),1)]))),128))])]),t("div",F,[t("nav",M,[(s(!0),n(u,null,h(Math.ceil(i.value.total/i.value.per_page),e=>(s(),b(f,{key:e,color:e===i.value.current_page?"info":"white",onClick:$=>p(e)},{default:B(()=>[D(o(e),1)]),_:2},1032,["color","onClick"]))),128))])])]))}};export{pt as default};
