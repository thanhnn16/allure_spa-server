import{r as c,aU as l,a2 as s,a3 as r,aa as d,bJ as b,bz as g,bf as i,F as v,b0 as k,bH as x,a9 as w,bl as h,bM as V}from"./@vue-BRgAy5zV.js";import{_ as q}from"./BaseButton-eMTGofBM.js";import{_ as o}from"./FormControl-BSsARiYM.js";import{b as N}from"./@mdi-B9R4HCDS.js";import{a as U}from"./axios-CCb-kr4I.js";import{u as T}from"./vue-toastification-ejyjJRED.js";import"./@inertiajs-D0DMCEQB.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./colors-S7_1wET5.js";import"./BaseIcon-B4kwkOCn.js";import"./main-BNmBi4-k.js";import"./pinia-BhnhDyRZ.js";const S={class:"bg-white dark:bg-dark-surface p-6 rounded-lg shadow-sm space-y-4"},C={class:"bg-white dark:bg-dark-surface p-6 rounded-lg shadow-sm space-y-4"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},M={class:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary mb-2"},B={value:""},D=["value"],L=["value"],A={class:"bg-white dark:bg-dark-surface p-6 rounded-lg shadow-sm space-y-4"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={class:"flex justify-end pt-4"},ve={__name:"CreateRewardForm",props:{products:{type:Array,required:!0},services:{type:Array,required:!0}},emits:["created"],setup(m,{emit:y}){const n=T(),u=c(!1),a=c({name:"",description:"",item_type:"product",item_id:"",points_required:"",quantity_available:"",start_date:"",end_date:""}),f=async()=>{try{u.value=!0,await U.post("/rewards",a.value),n.success("Tạo reward thành công"),a.value={name:"",description:"",item_type:"product",item_id:"",points_required:"",quantity_available:"",start_date:"",end_date:""},_("created")}catch(p){console.error(p.response.data),n.error("Lỗi khi tạo reward")}finally{u.value=!1}},_=y;return(p,e)=>(l(),s("form",{onSubmit:V(f,["prevent"]),class:"space-y-6"},[r("div",S,[e[8]||(e[8]=r("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-text mb-4"}," Thông tin cơ bản ",-1)),d(o,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.name=t),label:"Tên reward",required:"",placeholder:"Nhập tên reward...",class:"dark:bg-dark-surface"},null,8,["modelValue"]),d(o,{modelValue:a.value.description,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.description=t),label:"Mô tả",type:"textarea",placeholder:"Nhập mô tả chi tiết về reward...",class:"dark:bg-dark-surface"},null,8,["modelValue"])]),r("div",C,[e[11]||(e[11]=r("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-text mb-4"}," Thông tin item ",-1)),r("div",F,[r("div",null,[e[10]||(e[10]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-dark-text-secondary mb-2"}," Loại item ",-1)),b(r("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.item_type=t),class:"mt-1 block w-full rounded-lg border-gray-300 dark:border-dark-border dark:bg-dark-surface dark:text-dark-text shadow-sm focus:border-primary-500 focus:ring-primary-500"},e[9]||(e[9]=[r("option",{value:"product"},"Sản phẩm",-1),r("option",{value:"service"},"Dịch vụ",-1)]),512),[[g,a.value.item_type]])]),r("div",null,[r("label",M," Chọn "+i(a.value.item_type==="product"?"sản phẩm":"dịch vụ"),1),b(r("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.item_id=t),class:"mt-1 block w-full rounded-lg border-gray-300 dark:border-dark-border dark:bg-dark-surface dark:text-dark-text shadow-sm focus:border-primary-500 focus:ring-primary-500",required:""},[r("option",B,"Chọn "+i(a.value.item_type==="product"?"sản phẩm":"dịch vụ"),1),a.value.item_type==="product"?(l(!0),s(v,{key:0},k(m.products,t=>(l(),s("option",{key:t.id,value:t.id},i(t.name),9,D))),128)):(l(!0),s(v,{key:1},k(m.services,t=>(l(),s("option",{key:t.id,value:t.id},i(t.service_name),9,L))),128))],512),[[g,a.value.item_id]])])])]),r("div",A,[e[12]||(e[12]=r("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-text mb-4"}," Điều kiện và giới hạn ",-1)),r("div",R,[d(o,{modelValue:a.value.points_required,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.points_required=t),type:"number",label:"Điểm yêu cầu",placeholder:"Nhập số điểm cần để đổi reward...",required:"",class:"dark:bg-dark-surface"},null,8,["modelValue"]),d(o,{modelValue:a.value.quantity_available,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.quantity_available=t),type:"number",placeholder:"Nhập số lượng reward có sẵn...",label:"Số lượng có sẵn",class:"dark:bg-dark-surface"},null,8,["modelValue"])]),r("div",$,[d(o,{modelValue:a.value.start_date,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.start_date=t),type:"date",label:"Ngày bắt đầu",class:"dark:bg-dark-surface"},null,8,["modelValue"]),d(o,{modelValue:a.value.end_date,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.end_date=t),type:"date",label:"Ngày kết thúc",class:"dark:bg-dark-surface"},null,8,["modelValue"])])]),r("div",j,[d(q,{type:"submit",loading:u.value,icon:h(N),color:"success",class:"w-full md:w-auto"},{default:x(()=>e[13]||(e[13]=[w(" Tạo Reward ")])),_:1},8,["loading","icon"])])],32))}};export{ve as default};
