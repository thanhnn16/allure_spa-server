import{r as V,o as k,aU as s,a0 as M,bH as U,a3 as i,bJ as d,bA as p,bl as o,a2 as a,bf as n,a1 as m,bz as x,b0 as C,F as q,bM as S}from"./@vue-BRgAy5zV.js";import{T as w}from"./@inertiajs-D0DMCEQB.js";import{C as B}from"./CardBoxModal-BxzLM7Dp.js";import"./colors-S7_1wET5.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./@mdi-CtI4h_1C.js";import"./BaseButton-eMTGofBM.js";import"./BaseIcon-B4kwkOCn.js";import"./BaseButtons-B17KSMwc.js";import"./CardBox-jfYP3QDG.js";import"./OverlayLayer-BSs7OF78.js";const E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},D={key:0,class:"form-error"},G=["value"],j={key:0,class:"form-error"},F={key:0,class:"form-error"},N={key:0,class:"form-error"},z={key:0,class:"form-error"},A={key:0,class:"form-error"},H={key:0,class:"form-error"},I={key:0,class:"form-error"},J={__name:"EditServiceModal",props:{modelValue:Boolean,service:Object},emits:["update:modelValue","close","service-updated"],setup(v,{emit:f}){const l=v,u=f,b=V([]),e=w({service_name:"",description:"",duration:0,category_id:"",single_price:0,combo_5_price:0,combo_10_price:0,validity_period:0});k(async()=>{try{const r=await(await fetch("/api/services/categories")).json();b.value=r.data}catch(c){console.error("Error fetching categories:",c)}l.service&&(e.service_name=l.service.service_name,e.description=l.service.description,e.duration=l.service.duration,e.category_id=l.service.category_id,e.single_price=l.service.single_price,e.combo_5_price=l.service.combo_5_price,e.combo_10_price=l.service.combo_10_price,e.validity_period=l.service.validity_period)});const y=c=>{u("update:modelValue",c)},g=()=>{e.reset(),u("close")},_=()=>{e.put(route("services.update",l.service.id),{onSuccess:()=>{u("service-updated")}})};return(c,r)=>(s(),M(B,{"model-value":v.modelValue,"onUpdate:modelValue":y,title:"Chỉnh sửa dịch vụ",button:"primary","button-label":"Cập nhật","has-cancel":"",onConfirm:_,onCancel:g},{default:U(()=>[i("form",{onSubmit:S(_,["prevent"]),class:"space-y-6"},[i("div",E,[i("div",null,[r[8]||(r[8]=i("label",{class:"form-label required"},"Tên dịch vụ",-1)),d(i("input",{type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>o(e).service_name=t),class:"form-input",required:""},null,512),[[p,o(e).service_name]]),o(e).errors.service_name?(s(),a("div",D,n(o(e).errors.service_name),1)):m("",!0)]),i("div",null,[r[10]||(r[10]=i("label",{class:"form-label required"},"Danh mục",-1)),d(i("select",{"onUpdate:modelValue":r[1]||(r[1]=t=>o(e).category_id=t),class:"form-select",required:""},[r[9]||(r[9]=i("option",{value:""},"Chọn danh mục",-1)),(s(!0),a(q,null,C(b.value,t=>(s(),a("option",{key:t.id,value:t.id},n(t.service_category_name),9,G))),128))],512),[[x,o(e).category_id]]),o(e).errors.category_id?(s(),a("div",j,n(o(e).errors.category_id),1)):m("",!0)]),i("div",null,[r[11]||(r[11]=i("label",{class:"form-label required"},"Giá dịch vụ đơn lẻ",-1)),d(i("input",{type:"number","onUpdate:modelValue":r[2]||(r[2]=t=>o(e).single_price=t),class:"form-input",required:"",min:"0"},null,512),[[p,o(e).single_price]]),o(e).errors.single_price?(s(),a("div",F,n(o(e).errors.single_price),1)):m("",!0)]),i("div",null,[r[12]||(r[12]=i("label",{class:"form-label required"},"Thời gian (phút)",-1)),d(i("input",{type:"number","onUpdate:modelValue":r[3]||(r[3]=t=>o(e).duration=t),class:"form-input",required:"",min:"0"},null,512),[[p,o(e).duration]]),o(e).errors.duration?(s(),a("div",N,n(o(e).errors.duration),1)):m("",!0)]),i("div",null,[r[13]||(r[13]=i("label",{class:"form-label"},"Giá combo 5 lần",-1)),d(i("input",{type:"number","onUpdate:modelValue":r[4]||(r[4]=t=>o(e).combo_5_price=t),class:"form-input",min:"0"},null,512),[[p,o(e).combo_5_price]]),o(e).errors.combo_5_price?(s(),a("div",z,n(o(e).errors.combo_5_price),1)):m("",!0)]),i("div",null,[r[14]||(r[14]=i("label",{class:"form-label"},"Giá combo 10 lần",-1)),d(i("input",{type:"number","onUpdate:modelValue":r[5]||(r[5]=t=>o(e).combo_10_price=t),class:"form-input",min:"0"},null,512),[[p,o(e).combo_10_price]]),o(e).errors.combo_10_price?(s(),a("div",A,n(o(e).errors.combo_10_price),1)):m("",!0)]),i("div",null,[r[15]||(r[15]=i("label",{class:"form-label"},"Thời hạn sử dụng combo (ngày)",-1)),d(i("input",{type:"number","onUpdate:modelValue":r[6]||(r[6]=t=>o(e).validity_period=t),class:"form-input",min:"0"},null,512),[[p,o(e).validity_period]]),o(e).errors.validity_period?(s(),a("div",H,n(o(e).errors.validity_period),1)):m("",!0)])]),i("div",null,[r[16]||(r[16]=i("label",{class:"form-label"},"Mô tả",-1)),d(i("textarea",{"onUpdate:modelValue":r[7]||(r[7]=t=>o(e).description=t),class:"form-textarea",rows:"4"},null,512),[[p,o(e).description]]),o(e).errors.description?(s(),a("div",I,n(o(e).errors.description),1)):m("",!0)])],32)]),_:1},8,["model-value"]))}},ge=T(J,[["__scopeId","data-v-4fb64b62"]]);export{ge as default};
