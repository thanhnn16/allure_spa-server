import{aU as $,a0 as S,bH as i,aa as o,bl as r,a3 as w,a1 as C,bM as L}from"./@vue-BRgAy5zV.js";import{T as M,Z as B}from"./@inertiajs-D0DMCEQB.js";import{L as A}from"./LayoutAuthenticated-qavcQhoG.js";import{_ as G}from"./SectionMain-BbIPmLtw.js";import{_ as H}from"./CardBox-jfYP3QDG.js";import{_ as a}from"./FormField-Da_P6kO8.js";import{_ as m}from"./FormControl-BSsARiYM.js";import{_ as T}from"./BaseButton-eMTGofBM.js";import{_ as K}from"./BaseButtons-B17KSMwc.js";import{aR as Q}from"./@mdi-Dzgtc9aE.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./app-C4RQ8r5O.js";import"./jspdf-Ciebq7We.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./laravel-echo-C9ppFO4I.js";import"./pusher-js-Cl-1XqxI.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./pinia-BhnhDyRZ.js";import"./vue-toastification-ejyjJRED.js";import"./firebase-DL3QX-oU.js";import"./@firebase--zA4YiqN.js";import"./idb-Bn1DMRyg.js";import"./BaseIcon-B4kwkOCn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./colors-S7_1wET5.js";import"./OverlayLayer-BSs7OF78.js";import"./main-BNmBi4-k.js";const Be={__name:"Form",props:{voucher:{type:Object,default:()=>({})}},setup(d){var s,p,_,c,v,f,b,V,h,g,y,x,U;const u=d,e=M({code:((s=u.voucher)==null?void 0:s.code)||"",description:((p=u.voucher)==null?void 0:p.description)||"",discount_type:((_=u.voucher)==null?void 0:_.discount_type)||"percentage",discount_value:((c=u.voucher)==null?void 0:c.discount_value)||"",min_order_value:((v=u.voucher)==null?void 0:v.min_order_value)||"",max_discount_amount:((f=u.voucher)==null?void 0:f.max_discount_amount)||"",usage_limit:((b=u.voucher)==null?void 0:b.usage_limit)||"",start_date:((V=u.voucher)==null?void 0:V.start_date)||"",end_date:((h=u.voucher)==null?void 0:h.end_date)||"",is_unlimited:((g=u.voucher)==null?void 0:g.is_unlimited)||!1,uses_per_user:((y=u.voucher)==null?void 0:y.uses_per_user)||1,status:((x=u.voucher)==null?void 0:x.status)||"active"}),k=()=>{var n;(n=u.voucher)!=null&&n.id?e.put(route("vouchers.update",u.voucher.id)):e.post(route("vouchers.store"))},N=[{label:"Trang chủ",route:"dashboard"},{label:"Quản lý Voucher",route:"vouchers.index"},{label:(U=u.voucher)!=null&&U.id?"Sửa Voucher":"Thêm Voucher"}];return(n,t)=>($(),S(A,null,{default:i(()=>{var q;return[o(r(B),{title:(q=d.voucher)!=null&&q.id?"Sửa Voucher":"Thêm Voucher"},null,8,["title"]),o(G,{breadcrumbs:N},{default:i(()=>[o(H,null,{default:i(()=>[w("form",{onSubmit:L(k,["prevent"])},[o(a,{label:"Mã voucher",error:r(e).errors.code},{default:i(()=>[o(m,{modelValue:r(e).code,"onUpdate:modelValue":t[0]||(t[0]=l=>r(e).code=l),type:"text",placeholder:"Nhập mã voucher",required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Mô tả",error:r(e).errors.description},{default:i(()=>[o(m,{modelValue:r(e).description,"onUpdate:modelValue":t[1]||(t[1]=l=>r(e).description=l),type:"textarea",placeholder:"Nhập mô tả"},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Loại giảm giá",error:r(e).errors.discount_type},{default:i(()=>[o(m,{modelValue:r(e).discount_type,"onUpdate:modelValue":t[2]||(t[2]=l=>r(e).discount_type=l),type:"select",options:[{value:"percentage",label:"Phần trăm"},{value:"fixed",label:"Số tiền cố định"}],required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Giá trị giảm",error:r(e).errors.discount_value},{default:i(()=>[o(m,{modelValue:r(e).discount_value,"onUpdate:modelValue":t[3]||(t[3]=l=>r(e).discount_value=l),type:"number",min:"0",step:r(e).discount_type==="percentage"?"1":"1000",required:""},null,8,["modelValue","step"])]),_:1},8,["error"]),o(a,{label:"Đơn hàng tối thiểu",error:r(e).errors.min_order_value},{default:i(()=>[o(m,{modelValue:r(e).min_order_value,"onUpdate:modelValue":t[4]||(t[4]=l=>r(e).min_order_value=l),type:"number",min:"0",step:"1000",required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Giảm tối đa",error:r(e).errors.max_discount_amount},{default:i(()=>[o(m,{modelValue:r(e).max_discount_amount,"onUpdate:modelValue":t[5]||(t[5]=l=>r(e).max_discount_amount=l),type:"number",min:"0",step:"1000",required:""},null,8,["modelValue"])]),_:1},8,["error"]),r(e).is_unlimited?C("",!0):($(),S(a,{key:0,label:"Số lần sử dụng tối đa",error:r(e).errors.usage_limit},{default:i(()=>[o(m,{modelValue:r(e).usage_limit,"onUpdate:modelValue":t[6]||(t[6]=l=>r(e).usage_limit=l),type:"number",min:"1",required:""},null,8,["modelValue"])]),_:1},8,["error"])),o(a,{label:"Không giới hạn số lần sử dụng",error:r(e).errors.is_unlimited},{default:i(()=>[o(m,{modelValue:r(e).is_unlimited,"onUpdate:modelValue":t[7]||(t[7]=l=>r(e).is_unlimited=l),type:"checkbox"},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Số lần sử dụng cho mỗi người dùng",error:r(e).errors.uses_per_user},{default:i(()=>[o(m,{modelValue:r(e).uses_per_user,"onUpdate:modelValue":t[8]||(t[8]=l=>r(e).uses_per_user=l),type:"number",min:"1",required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Trạng thái",error:r(e).errors.status},{default:i(()=>[o(m,{modelValue:r(e).status,"onUpdate:modelValue":t[9]||(t[9]=l=>r(e).status=l),type:"select",options:[{value:"active",label:"Hoạt động"},{value:"inactive",label:"Không hoạt động"}],required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(K,null,{default:i(()=>{var l;return[o(T,{type:"submit",color:"info",label:(l=d.voucher)!=null&&l.id?"Cập nhật":"Tạo mới",loading:r(e).processing},null,8,["label","loading"]),o(T,{icon:r(Q),label:"Quay lại",color:"white",onClick:t[10]||(t[10]=j=>n.$inertia.visit(n.route("vouchers.index")))},null,8,["icon"])]}),_:1})],32)]),_:1})]),_:1})]}),_:1}))}};export{Be as default};
