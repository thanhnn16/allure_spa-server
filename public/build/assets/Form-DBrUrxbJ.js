import{aU as L,a0 as M,bH as l,aa as o,bl as r,a3 as N,bM as S}from"./@vue-BRgAy5zV.js";import{T as k,Z as B}from"./@inertiajs-D0DMCEQB.js";import{L as C}from"./LayoutAuthenticated-WadtD5fF.js";import{_ as A}from"./SectionMain-BbIPmLtw.js";import{_ as G}from"./CardBox-jfYP3QDG.js";import{_ as a}from"./FormField-Da_P6kO8.js";import{_ as m}from"./FormControl-BSsARiYM.js";import{_ as q}from"./BaseButton-eMTGofBM.js";import{_ as Q}from"./BaseButtons-B17KSMwc.js";import{aR as j}from"./@mdi-Dzgtc9aE.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./app-qysCtdHT.js";import"./jspdf-Ciebq7We.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./laravel-echo-C9ppFO4I.js";import"./pusher-js-Cl-1XqxI.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./pinia-BhnhDyRZ.js";import"./vue-toastification-ejyjJRED.js";import"./firebase-DL3QX-oU.js";import"./@firebase--zA4YiqN.js";import"./idb-Bn1DMRyg.js";import"./BaseIcon-B4kwkOCn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./colors-S7_1wET5.js";import"./OverlayLayer-BSs7OF78.js";import"./main-BNmBi4-k.js";const Be={__name:"Form",props:{voucher:{type:Object,default:()=>({})}},setup(n){var s,p,c,_,v,f,h,b,V,y,g,x,$;const t=n,e=k({code:((s=t.voucher)==null?void 0:s.code)||"",description:((p=t.voucher)==null?void 0:p.description)||"",discount_type:((c=t.voucher)==null?void 0:c.discount_type)||"percentage",discount_value:((_=t.voucher)==null?void 0:_.discount_value)||"",min_order_value:((v=t.voucher)==null?void 0:v.min_order_value)||"",max_discount_amount:((f=t.voucher)==null?void 0:f.max_discount_amount)||"",usage_limit:((h=t.voucher)==null?void 0:h.usage_limit)||"",start_date:((b=t.voucher)==null?void 0:b.start_date)||"",end_date:((V=t.voucher)==null?void 0:V.end_date)||"",is_unlimited:((y=t.voucher)==null?void 0:y.is_unlimited)||!1,uses_per_user:((g=t.voucher)==null?void 0:g.uses_per_user)||"",status:((x=t.voucher)==null?void 0:x.status)||"active"}),T=()=>{var d;(d=t.voucher)!=null&&d.id?e.put(route("vouchers.update",t.voucher.id)):e.post(route("vouchers.store"))},w=[{label:"Trang chủ",route:"dashboard"},{label:"Quản lý Voucher",route:"vouchers.index"},{label:($=t.voucher)!=null&&$.id?"Sửa Voucher":"Thêm Voucher"}];return(d,i)=>(L(),M(C,null,{default:l(()=>{var U;return[o(r(B),{title:(U=n.voucher)!=null&&U.id?"Sửa Voucher":"Thêm Voucher"},null,8,["title"]),o(A,{breadcrumbs:w},{default:l(()=>[o(G,null,{default:l(()=>[N("form",{onSubmit:S(T,["prevent"])},[o(a,{label:"Mã voucher",error:r(e).errors.code},{default:l(()=>[o(m,{modelValue:r(e).code,"onUpdate:modelValue":i[0]||(i[0]=u=>r(e).code=u),type:"text",placeholder:"Nhập mã voucher",required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Mô tả",error:r(e).errors.description},{default:l(()=>[o(m,{modelValue:r(e).description,"onUpdate:modelValue":i[1]||(i[1]=u=>r(e).description=u),type:"textarea",placeholder:"Nhập mô tả"},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Loại giảm giá",error:r(e).errors.discount_type},{default:l(()=>[o(m,{modelValue:r(e).discount_type,"onUpdate:modelValue":i[2]||(i[2]=u=>r(e).discount_type=u),type:"select",options:[{value:"percentage",label:"Phần trăm"},{value:"fixed",label:"Số tiền cố định"}],required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Giá trị giảm",error:r(e).errors.discount_value},{default:l(()=>[o(m,{modelValue:r(e).discount_value,"onUpdate:modelValue":i[3]||(i[3]=u=>r(e).discount_value=u),type:"number",min:"0",step:r(e).discount_type==="percentage"?"1":"1000",required:""},null,8,["modelValue","step"])]),_:1},8,["error"]),o(a,{label:"Đơn hàng tối thiểu",error:r(e).errors.min_order_value},{default:l(()=>[o(m,{modelValue:r(e).min_order_value,"onUpdate:modelValue":i[4]||(i[4]=u=>r(e).min_order_value=u),type:"number",min:"0",step:"1000",required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(a,{label:"Giảm tối đa",error:r(e).errors.max_discount_amount},{default:l(()=>[o(m,{modelValue:r(e).max_discount_amount,"onUpdate:modelValue":i[5]||(i[5]=u=>r(e).max_discount_amount=u),type:"number",min:"0",step:"1000",required:""},null,8,["modelValue"])]),_:1},8,["error"]),o(Q,null,{default:l(()=>{var u;return[o(q,{type:"submit",color:"info",label:(u=n.voucher)!=null&&u.id?"Cập nhật":"Tạo mới",loading:r(e).processing},null,8,["label","loading"]),o(q,{icon:r(j),label:"Quay lại",color:"white",onClick:i[6]||(i[6]=F=>d.$inertia.visit(d.route("vouchers.index")))},null,8,["icon"])]}),_:1})],32)]),_:1})]),_:1})]}),_:1}))}};export{Be as default};
