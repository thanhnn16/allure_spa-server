import{r as u,e as H,c as T,aU as n,a0 as k,bH as f,aa as s,bl as l,a3 as t,a1 as d,a2 as v,bJ as c,bw as P,bz as $,bA as X}from"./@vue-BRgAy5zV.js";import{aF as E,E as K,H as L}from"./@mdi-DWfqH7fj.js";import{_ as O}from"./SectionMain-Vot1TOkK.js";import"./colors-S7_1wET5.js";import{_ as h}from"./BaseButton-eMTGofBM.js";import{_ as z}from"./CardBox-jfYP3QDG.js";import{L as G}from"./LayoutAuthenticated-Rje8YUAB.js";import{_ as J}from"./SectionTitleLineWithButton-DROPEx3n.js";import{T as Q,Z,F as b}from"./@inertiajs-D0DMCEQB.js";import{u as q}from"./main-BNmBi4-k.js";import{_ as I}from"./TablePagination-BLryTwgf.js";import R from"./AddStaffModal-DfdWBR0g.js";import W from"./StaffTable-C38jAhai.js";import"./BaseIcon-B4kwkOCn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-CZHYfFzt.js";import"./jspdf-Ciebq7We.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./axios-CCb-kr4I.js";import"./laravel-echo-C9ppFO4I.js";import"./pusher-js-Cl-1XqxI.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./pinia-BhnhDyRZ.js";import"./vue-toastification-ejyjJRED.js";import"./firebase-DL3QX-oU.js";import"./@firebase--zA4YiqN.js";import"./idb-Bn1DMRyg.js";import"./deepmerge-CtOfIP5S.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./OverlayLayer-BSs7OF78.js";import"./FormField-Da_P6kO8.js";import"./FormControl-BSsARiYM.js";import"./BaseButtons-B17KSMwc.js";const Y={class:"flex items-center justify-between mb-3"},ee={class:"flex items-center space-x-4"},te={key:0},ae={class:"mb-4"},re={class:"inline-flex items-center cursor-pointer"},le={class:"grid grid-cols-2 gap-4 mb-4"},oe={class:"mt-4"},se={key:1,class:"text-center py-5 dark:text-slate-300"},ie={key:0,class:"mt-6"},ot={__name:"StaffView",props:{staff:Object,filters:Object},setup(A){var y,S,V,C;q();const o=A,m=u(((y=o.filters)==null?void 0:y.show_deleted)||!1),p=u(!1),a=Q({search:((S=o.filters)==null?void 0:S.search)||"",per_page:((V=o.filters)==null?void 0:V.per_page)||10,show_deleted:m.value,gender:((C=o.filters)==null?void 0:C.gender)||""}),_=u(null);H(()=>a.search,i=>{clearTimeout(_.value),_.value=setTimeout(()=>{b.get(route("staff.index"),{search:a.search,per_page:a.per_page},{preserveState:!0})},300)});const U=()=>{b.get(route("staff.index"),{search:a.search,per_page:a.per_page},{preserveState:!0})},x=T(()=>{var i,e;return((e=(i=o.staff)==null?void 0:i.data)==null?void 0:e.length)>0}),B=T(()=>{var i;return((i=o.staff)==null?void 0:i.data)||[]}),g=u(!1),D=()=>{b.reload()},M=()=>{a.show_deleted=!a.show_deleted,m.value=a.show_deleted,w()},N=()=>{p.value=!p.value},w=()=>{b.get(route("staff.index"),a,{preserveState:!0})},j=()=>{a.gender="",w()};return(i,e)=>(n(),k(G,null,{default:f(()=>[s(l(Z),{title:"Quản lý nhân viên"}),s(O,null,{default:f(()=>{var F;return[s(J,{icon:l(E),title:"Danh sách nhân viên",main:""},{default:f(()=>[s(h,{icon:l(K),label:"Thêm nhân viên mới","rounded-full":"",small:"",onClick:e[0]||(e[0]=r=>g.value=!0),class:"dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"},null,8,["icon"])]),_:1},8,["icon"]),s(z,{class:"mb-6 px-4 py-4 dark:bg-slate-900","has-table":""},{default:f(()=>[t("div",Y,[t("div",ee,[s(h,{icon:l(L),label:"Bộ lọc",onClick:N,class:"dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"},null,8,["icon"]),p.value?(n(),k(h,{key:0,label:"Đặt lại bộ lọc",onClick:j,class:"dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200"})):d("",!0)])]),p.value?(n(),v("div",te,[t("div",ae,[t("label",re,[c(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=r=>m.value=r),onChange:M,class:"sr-only peer"},null,544),[[P,m.value]]),e[6]||(e[6]=t("div",{class:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-blue-600"},null,-1)),e[7]||(e[7]=t("span",{class:"ml-3 text-sm font-medium text-gray-900 dark:text-slate-300"}," Hiển thị nhân viên đã xóa ",-1))])]),t("div",le,[t("div",null,[e[9]||(e[9]=t("label",{class:"block mb-2 dark:text-slate-300"},"Giới tính",-1)),c(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>l(a).gender=r),class:"w-full px-4 py-2 border rounded-md dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"},e[8]||(e[8]=[t("option",{value:""},"Tất cả",-1),t("option",{value:"male"},"Nam",-1),t("option",{value:"female"},"Nữ",-1),t("option",{value:"other"},"Khác",-1)]),512),[[$,l(a).gender]])])])])):d("",!0),t("div",oe,[c(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>l(a).search=r),type:"text",placeholder:"Tìm kiếm theo tên hoặc số điện thoại",class:"w-full px-4 py-2 mb-4 border rounded-md dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 placeholder:dark:text-slate-500"},null,512),[[X,l(a).search]]),c(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>l(a).per_page=r),onChange:U,class:"px-10 py-2 border rounded-md dark:bg-slate-800 dark:border-slate-600 dark:text-slate-200 dark:focus:border-slate-500 dark:focus:ring-slate-500"},e[10]||(e[10]=[t("option",{value:10},"Xem 10 mỗi trang",-1),t("option",{value:25},"Xem 25 mỗi trang",-1),t("option",{value:50},"Xem 50 mỗi trang",-1)]),544),[[$,l(a).per_page]])]),x.value?d("",!0):(n(),v("div",se,e[11]||(e[11]=[t("p",null,"Không có nhân viên",-1)]))),x.value?(n(),k(W,{key:2,items:B.value,checkable:!0},null,8,["items"])):d("",!0)]),_:1}),(F=o.staff)!=null&&F.links?(n(),v("div",ie,[s(I,{links:o.staff.links},null,8,["links"])])):d("",!0),s(R,{modelValue:g.value,"onUpdate:modelValue":e[5]||(e[5]=r=>g.value=r),onStaffAdded:D},null,8,["modelValue"])]}),_:1})]),_:1}))}};export{ot as default};
