import{r as v,o as K,c as h,e as N,aU as r,a2 as i,bf as d,a0 as $,bH as g,aa as a,bl as u,a1 as V,a3 as e,j as re,a9 as B,b2 as ve,bJ as J,bz as Y,b0 as C,F as S,O as _e,aI as R}from"./@vue-BRgAy5zV.js";import{Z as ke,F as G}from"./@inertiajs-D0DMCEQB.js";import{u as xe}from"./main-BNmBi4-k.js";import{P as we,Q as Ce,R as Se,f as De,S as $e,T as Te,u as Be,U as Ne,V as W,W as Ve,X as Ae,Y as O,Z as H,_ as ee,$ as je,a0 as te,a1 as qe,A as Pe,a2 as F,a3 as He}from"./@mdi-ArhfA4cU.js";import{C as E,L as se,P as oe,a as Fe,b as le,c as ne,p as ie,d as Ie,e as Le,i as Ue}from"./chart.js-B5vlqDTT.js";import{_ as Me}from"./SectionMain-Vot1TOkK.js";import{_ as A}from"./CardBox-jfYP3QDG.js";import{n as Re}from"./numeral-C_7pPMt7.js";import{_ as D}from"./BaseIcon-B4kwkOCn.js";import{_ as j}from"./BaseLevel-vqqndN8O.js";import{_ as Q}from"./PillTag-BbG8P_L6.js";import{_ as L}from"./BaseButton-eMTGofBM.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";import Oe from"./CustomerTable-BZzTwJlh.js";import{a as ze,_ as I}from"./SectionTitleLineWithButton-DaZ51k7S.js";import{L as We}from"./LayoutAuthenticated-D078pk3d.js";import{a as ae}from"./axios-CCb-kr4I.js";import{_ as Ee}from"./UserAvatar-l4ifIgfP.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bnt7aRCy.js";import"./side-channel-FJR906QQ.js";import"./object-inspect-D3SFxae_.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./pinia-BhnhDyRZ.js";import"./@kurkle-BZxJdD1U.js";import"./colors-S7_1wET5.js";import"./CardBoxModal-CC98zKJS.js";import"./BaseButtons-B17KSMwc.js";import"./OverlayLayer-BSs7OF78.js";import"./app-B23a1NkA.js";import"./jspdf-Ciebq7We.js";import"./@babel-BsCcpEdk.js";import"./fflate-EnPhvkmS.js";import"./laravel-echo-C9ppFO4I.js";import"./pusher-js-Cl-1XqxI.js";import"./laravel-vite-plugin-DEL3ZhID.js";import"./vue-toastification-ejyjJRED.js";import"./firebase-DL3QX-oU.js";import"./@firebase--zA4YiqN.js";import"./idb-Bn1DMRyg.js";const Ke={__name:"LineChart",props:{data:{type:Object,required:!0},options:{type:Object,default:()=>({responsive:!0,maintainAspectRatio:!1})}},setup(s){const n=s,c=v(null);let f;E.register(se,oe,Fe,le,ne,ie),K(()=>{f=new E(c.value,{type:"line",data:n.data,options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{display:!1},x:{display:!0}},plugins:{legend:{display:!1}}}})});const _=h(()=>n.data);return N(_,x=>{f&&(f.data=x,f.update())}),(x,b)=>(r(),i("canvas",{ref_key:"root",ref:c},null,512))}},Qe={__name:"NumberDynamic",props:{prefix:{type:String,default:null},suffix:{type:String,default:null},value:{type:Number,default:0},duration:{type:Number,default:500}},setup(s){const n=s,c=v(0),f=h(()=>c.value<1e3?c.value:Re(c.value).format("0,0")),_=h(()=>n.value),x=y=>{const w=Math.ceil(c.value+y);if(w>_.value)return c.value=_.value,!1;c.value=w,setTimeout(()=>{x(y)},25)},b=()=>{c.value=0,x(n.value/(n.duration/25))};return N(_,()=>{b()}),K(()=>{b()}),(y,w)=>(r(),i("div",null,d(s.prefix)+d(f.value)+d(s.suffix),1))}},Ze={__name:"PillTagTrend",props:{trend:{type:String,required:!0},trendType:{type:String,default:null},small:Boolean},setup(s){const n=s,c=h(()=>n.trendType==="up"?{icon:we,style:"success"}:n.trendType==="down"?{icon:Ce,style:"danger"}:n.trendType==="alert"?{icon:Se,style:"warning"}:{style:"info"});return(f,_)=>(r(),$(Q,{label:s.trend,color:c.value.style,icon:c.value.icon,small:s.small},null,8,["label","color","icon","small"]))}},Xe={class:"space-y-2"},Je={class:"text-lg leading-tight text-gray-500 dark:text-dark-muted font-medium"},Ye={class:"text-3xl leading-tight font-semibold text-gray-900 dark:text-dark-text"},Ge={__name:"CardBoxWidget",props:{number:{type:Number,default:0},icon:{type:String,default:null},prefix:{type:String,default:null},suffix:{type:String,default:null},label:{type:String,default:null},color:{type:String,default:null},trend:{type:String,default:null},trendType:{type:String,default:null}},setup(s){return(n,c)=>(r(),$(A,{class:"transition-colors duration-150 hover:bg-gray-50 dark:hover:bg-dark-hover"},{default:g(()=>[s.trend?(r(),$(j,{key:0,class:"mb-3",mobile:""},{default:g(()=>[a(Ze,{trend:s.trend,"trend-type":s.trendType,small:""},null,8,["trend","trend-type"]),a(L,{icon:u(De),"icon-w":"w-4","icon-h":"h-4",color:"lightDark",class:"hover:bg-gray-100 dark:hover:bg-dark-active transition-colors duration-150",small:""},null,8,["icon"])]),_:1})):V("",!0),a(j,{mobile:""},{default:g(()=>[e("div",Xe,[e("h3",Je,d(s.label),1),e("h1",Ye,[a(Qe,{value:s.number,prefix:s.prefix,suffix:s.suffix,class:"tracking-tight"},null,8,["value","prefix","suffix"])])]),s.icon?(r(),$(D,{key:0,path:s.icon,size:"48",w:"",h:"h-16",class:re([s.color,"transition-transform duration-200 transform group-hover:scale-110"])},null,8,["path","class"])):V("",!0)]),_:1})]),_:1}))}},z=de(Ge,[["__scopeId","data-v-5a1e1c27"]]),et={class:"text-center space-y-1 md:text-left md:mr-6"},tt={class:"text-xl"},at={class:"text-gray-500 dark:text-slate-400"},rt={class:"text-center md:text-right space-y-2"},st={class:"text-sm text-gray-500"},ot={__name:"CardBoxTransaction",props:{amount:{type:Number,required:!0},date:{type:String,required:!0},business:{type:String,required:!0},type:{type:String,required:!0},name:{type:String,required:!0},account:{type:String,required:!0}},setup(s){const n=s,c=h(()=>n.type==="withdrawal"?{icon:$e,type:"danger"}:n.type==="deposit"?{icon:Te,type:"success"}:n.type==="invoice"?{icon:Be,type:"warning"}:{icon:Ne,type:"info"});return(f,_)=>(r(),$(A,{class:"mb-6 last:mb-0"},{default:g(()=>[a(j,null,{default:g(()=>[a(j,{type:"justify-start"},{default:g(()=>[a(ze,{icon:c.value.icon,color:c.value.type,class:"md:mr-6"},null,8,["icon","color"]),e("div",et,[e("h4",tt,"$"+d(s.amount),1),e("p",at,[e("b",null,d(s.date),1),B(" via "+d(s.business),1)])])]),_:1}),e("div",rt,[e("p",st,d(s.name),1),e("div",null,[a(Q,{color:c.value.type,label:s.type,small:""},null,8,["color","label"])])])]),_:1})]),_:1}))}},lt={class:"text-center md:text-left overflow-hidden"},nt={class:"text-xl text-ellipsis"},it={class:"text-gray-500 dark:text-slate-400"},dt={__name:"CardBoxClient",props:{name:{type:String,required:!0},login:{type:String,required:!0},date:{type:String,required:!0},progress:{type:Number,default:0},text:{type:String,default:null},type:{type:String,default:null}},setup(s){const n=s,c=h(()=>n.type?n.type:n.progress?n.progress>=60?"success":n.progress>=40?"warning":"danger":"info"),f=h(()=>({success:W,warning:Ve,danger:Ae,info:null})[c.value]),_=h(()=>n.text??`${n.progress}%`);return(x,b)=>{const y=ve("UserAvatar");return r(),$(A,{class:"mb-6 last:mb-0"},{default:g(()=>[a(j,null,{default:g(()=>[a(j,{type:"justify-start"},{default:g(()=>[a(y,{class:"w-12 h-12 mr-6",full_name:s.name},null,8,["full_name"]),e("div",lt,[e("h4",nt,d(s.name),1),e("p",it,d(s.date)+" @ "+d(s.login),1)])]),_:1}),a(Q,{color:c.value,label:_.value,icon:f.value},null,8,["color","label","icon"])]),_:1})]),_:1})}}},ct={class:"mb-6"},ut={class:"grid grid-cols-1 gap-6 lg:grid-cols-3 mb-6"},mt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},pt={class:"flex flex-col justify-between"},gt={class:"flex flex-col justify-between"},ht={class:"flex items-center justify-between mb-3"},ft={key:0,class:"h-96"},bt={key:1,class:"flex items-center justify-center h-96 bg-gray-50 dark:bg-dark-surface rounded-lg"},yt={class:"text-gray-500 dark:text-dark-muted"},vt={class:"border-b border-gray-200 dark:border-dark-border"},_t={class:"flex space-x-1"},kt=["onClick"],xt={class:"flex items-center space-x-2"},wt={class:"font-medium"},Ct={key:0,class:"flex items-center justify-center h-64"},St={key:1,class:"flex flex-col items-center justify-center h-64 text-gray-500 dark:text-gray-400"},Dt={key:2,class:"min-h-[400px] pt-4"},$t={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Tt={class:"bg-white dark:bg-dark-surface rounded-lg shadow-sm border border-gray-200 dark:border-dark-border overflow-hidden"},Bt={class:"p-4 border-b border-gray-200 dark:border-dark-border"},Nt={class:"font-semibold text-gray-900 dark:text-dark-text flex items-center"},Vt={class:"p-4 space-y-4"},At={class:"flex justify-between items-center mb-2"},jt={class:"text-gray-700 dark:text-dark-text font-medium"},qt={class:"text-sm text-gray-500 dark:text-dark-muted bg-gray-100 dark:bg-dark-hover px-2 py-1 rounded"},Pt={class:"w-full h-2 bg-gray-100 dark:bg-dark-hover rounded-full overflow-hidden"},Ht={class:"bg-white dark:bg-dark-surface rounded-lg shadow-sm border border-gray-200 dark:border-dark-border overflow-hidden"},Ft={class:"p-4 border-b border-gray-200 dark:border-dark-border"},It={class:"font-semibold text-gray-900 dark:text-dark-text flex items-center"},Lt={class:"p-4 space-y-4"},Ut={class:"flex justify-between items-center mb-2"},Mt={class:"text-gray-700 dark:text-dark-text font-medium"},Rt={class:"text-sm text-gray-500 dark:text-dark-muted bg-gray-100 dark:bg-dark-hover px-2 py-1 rounded"},Ot={class:"w-full h-2 bg-gray-100 dark:bg-dark-hover rounded-full overflow-hidden"},zt={key:1,class:"grid grid-cols-1 gap-6"},Wt={class:"bg-white dark:bg-dark-surface rounded-lg shadow-sm border border-gray-200 dark:border-dark-border overflow-hidden"},Et={class:"p-4 border-b border-gray-200 dark:border-dark-border"},Kt={class:"font-semibold text-gray-900 dark:text-dark-text flex items-center"},Qt={class:"p-4"},Zt={class:"space-y-4"},Xt={class:"flex justify-between items-center mb-2"},Jt={class:"text-gray-700 dark:text-dark-text font-medium"},Yt={class:"flex items-center space-x-3"},Gt={class:"text-sm text-gray-500 dark:text-dark-muted px-2 py-1 bg-white dark:bg-dark-surface rounded"},ea={class:"text-sm text-red-500 font-medium"},ta={class:"w-full h-2 bg-gray-200 dark:bg-dark-surface rounded-full overflow-hidden"},aa={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ra={class:"bg-white dark:bg-dark-surface rounded-lg shadow-sm border border-gray-200 dark:border-dark-border overflow-hidden"},sa={class:"p-4 border-b border-gray-200 dark:border-dark-border"},oa={class:"font-semibold text-gray-900 dark:text-dark-text flex items-center"},la={class:"p-4"},na={class:"space-y-4"},ia={class:"flex justify-between items-center"},da={class:"text-gray-700 dark:text-dark-text font-medium"},ca={class:"text-sm text-blue-500 font-medium px-2 py-1 bg-blue-50 dark:bg-blue-900/20 rounded"},ua={class:"bg-white dark:bg-dark-surface rounded-lg shadow-sm border border-gray-200 dark:border-dark-border overflow-hidden"},ma={class:"p-4 border-b border-gray-200 dark:border-dark-border"},pa={class:"font-semibold text-gray-900 dark:text-dark-text flex items-center"},ga={class:"p-4"},ha={class:"space-y-4"},fa={class:"flex justify-between items-center"},ba={class:"text-gray-700 dark:text-dark-text font-medium"},ya={class:"text-sm text-yellow-500 font-medium px-2 py-1 bg-yellow-50 dark:bg-yellow-900/20 rounded"},va={key:3,class:"grid grid-cols-1 gap-6"},_a={class:"bg-white dark:bg-dark-surface rounded-lg shadow-sm border border-gray-200 dark:border-dark-border overflow-hidden"},ka={class:"p-4 border-b border-gray-200 dark:border-dark-border"},xa={class:"font-semibold text-gray-900 dark:text-dark-text flex items-center"},wa={class:"p-4"},Ca={class:"space-y-4"},Sa={class:"flex items-center space-x-3"},Da={class:"flex flex-col"},$a={class:"text-gray-700 dark:text-dark-text font-medium"},Ta={class:"text-sm text-gray-500 dark:text-dark-muted"},Ba={class:"text-right"},Na={class:"block text-primary-600 dark:text-primary-400 font-medium"},Va={__name:"HomeView",setup(s){E.register(ne,le,oe,se,Ie,ie,Le,Ue);const n=v({labels:[],datasets:[{label:"Doanh thu",data:[],fill:!0,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.2)",tension:.4,borderWidth:2,pointRadius:4,pointBackgroundColor:"#10B981",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:6}]}),c=v([]),f=v(0),_=v(0),x=v(0),b=v("week"),y=v([]),w=v(!1),q=async()=>{w.value=!0;try{const l=await ae.get(`/api/dashboard?period=${b.value}`);c.value=l.data.newUsers,f.value=l.data.userCount,_.value=l.data.salesAmount,x.value=l.data.orderCount,y.value=l.data.salesData,l.data.salesData&&l.data.salesData.length>0&&U()}catch(l){console.error("Error fetching dashboard data:",l)}finally{w.value=!1}};N(b,q),K(()=>{q(),M()});const m=xe(),ce=h(()=>{var l;return((l=m.clients)==null?void 0:l.slice(0,4))||[]}),ue=h(()=>m.history),me=h(()=>({responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,grid:{display:!0,color:m.isDark?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)",drawBorder:!1},ticks:{color:m.isDark?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",font:{size:11},callback:function(l){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",notation:"compact",compactDisplay:"short"}).format(l)}}},x:{grid:{display:!1,drawBorder:!1},ticks:{color:m.isDark?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",font:{size:11}}}},plugins:{legend:{display:!0,position:"top",labels:{color:m.isDark?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.7)",font:{size:12},usePointStyle:!0,padding:20}},tooltip:{backgroundColor:m.isDark?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.8)",titleColor:m.isDark?"#fff":"#000",bodyColor:m.isDark?"#fff":"#000",padding:12,borderColor:m.isDark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",borderWidth:1,callbacks:{label:function(l){let o=l.dataset.label||"";return o&&(o+=": "),l.parsed.y!==null&&(o+=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(l.parsed.y)),o}}}}})),U=()=>{!y.value||!Array.isArray(y.value)||y.value.length===0||(n.value={labels:y.value.map(l=>l.date),datasets:[{...n.value.datasets[0],data:y.value.map(l=>parseFloat(l.total_sales)),borderColor:(m.isDark,"#10B981"),backgroundColor:m.isDark?"rgba(16, 185, 129, 0.15)":"rgba(16, 185, 129, 0.1)",pointBackgroundColor:(m.isDark,"#10B981"),pointBorderColor:m.isDark?"#1E293B":"#fff",pointHoverBackgroundColor:m.isDark?"#fff":"#000",pointHoverBorderColor:(m.isDark,"#10B981"),pointHoverRadius:6,pointHoverBorderWidth:2}]})};N(y,l=>{U()},{deep:!0}),N(()=>m.isDark,()=>{U()},{immediate:!0});const pe=h(()=>n.value.datasets[0].data.length>0),ge=()=>{G.visit(route("users.index"))},he=l=>{G.visit(route("users.show",{id:l}))},T=v("overview"),p=v({peakHours:[],popularServices:[],topCustomers:[],bestSellingProducts:[],lowStockProducts:[],cancelledServices:[]}),M=async()=>{try{const l=await ae.get(`/api/dashboard/stats?period=${b.value}`);p.value=l.data}catch(l){console.error("Error fetching stats data:",l)}};N(b,()=>{q(),M()});const fe=h(()=>[{id:"overview",label:"Tổng quan",icon:O},{id:"services",label:"Dịch vụ",icon:F},{id:"products",label:"Sản phẩm",icon:ee},{id:"customers",label:"Khách hàng",icon:H}]),be=v(!0),ye=h(()=>{var o,t,k,P,Z,X;return{overview:((o=p.value.peakHours)==null?void 0:o.length)||((t=p.value.popularServices)==null?void 0:t.length),services:(k=p.value.cancelledServices)==null?void 0:k.length,products:((P=p.value.bestSellingProducts)==null?void 0:P.length)||((Z=p.value.lowStockProducts)==null?void 0:Z.length),customers:(X=p.value.topCustomers)==null?void 0:X.length}[T.value]>0});return(l,o)=>(r(),$(We,null,{default:g(()=>[a(u(ke),{title:"Dashboard"}),a(Me,{"is-aside-lg-active":be.value},{default:g(()=>[a(I,{icon:u(O),title:"Tổng quan",main:""},null,8,["icon"]),e("div",ct,[J(e("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>b.value=t),class:"form-select bg-white dark:bg-dark-surface text-gray-900 dark:text-dark-text border-gray-300 dark:border-dark-border rounded-md shadow-sm"},o[2]||(o[2]=[e("option",{value:"week"},"Tuần này",-1),e("option",{value:"month"},"Tháng này",-1),e("option",{value:"quarter"},"Quý này",-1),e("option",{value:"year"},"Năm nay",-1)]),512),[[Y,b.value]])]),e("div",ut,[a(z,{color:"text-emerald-500",icon:u(H),number:f.value,label:"Khách hàng"},null,8,["icon","number"]),a(z,{color:"text-blue-500",icon:u(ee),number:Number(_.value),prefix:"₫",label:"Doanh số"},null,8,["icon","number"]),a(z,{color:"text-red-500",icon:u(O),number:x.value,label:"Đơn hàng"},null,8,["icon","number"])]),e("div",mt,[e("div",pt,[(r(!0),i(S,null,C(ue.value,(t,k)=>(r(),$(ot,{key:k,amount:t.amount,date:t.date,business:t.business,type:t.type,name:t.name,account:t.account},null,8,["amount","date","business","type","name","account"]))),128))]),e("div",gt,[(r(!0),i(S,null,C(ce.value,t=>(r(),$(dt,{key:t.id,name:t.name,login:t.login,date:t.created,progress:t.progress},null,8,["name","login","date","progress"]))),128))])]),a(I,{icon:u(je),title:"Doanh thu"},null,8,["icon"]),a(A,{class:"mb-6"},{default:g(()=>[e("div",ht,[J(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>b.value=t),class:"form-select w-40 bg-white dark:bg-dark-surface border-gray-300 dark:border-dark-border text-gray-900 dark:text-dark-text"},o[3]||(o[3]=[e("option",{value:"week"},"Tuần này",-1),e("option",{value:"month"},"Tháng này",-1),e("option",{value:"quarter"},"Quý này",-1),e("option",{value:"year"},"Năm nay",-1)]),512),[[Y,b.value]]),a(L,{icon:u(te),color:"info",onClick:q,loading:w.value},null,8,["icon","loading"])]),pe.value?(r(),i("div",ft,[a(Ke,{data:n.value,options:me.value},null,8,["data","options"])])):(r(),i("div",bt,[e("p",yt,d(w.value?"Đang tải dữ liệu...":"Chưa có dữ liệu doanh thu trong khoảng thời gian này"),1)]))]),_:1}),a(I,{icon:u(W),title:"Phân tích chi tiết"},null,8,["icon"]),a(A,{class:"mb-6"},{default:g(()=>[e("div",vt,[e("div",_t,[(r(!0),i(S,null,C(fe.value,t=>(r(),i("button",{key:t.id,onClick:k=>T.value=t.id,class:re(["px-4 py-2 rounded-t-lg transition-all duration-200 relative",["hover:bg-gray-50 dark:hover:bg-dark-hover",T.value===t.id?"bg-white dark:bg-dark-surface border-b-2 border-primary-500 text-primary-600 dark:text-primary-400":"text-gray-500 dark:text-gray-400"]])},[e("div",xt,[a(D,{path:t.icon,class:"w-5 h-5"},null,8,["path"]),e("span",wt,d(t.label),1)])],10,kt))),128))])]),w.value?(r(),i("div",Ct,o[4]||(o[4]=[e("div",{class:"flex flex-col items-center space-y-3"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),e("span",{class:"text-gray-500 dark:text-gray-400"},"Đang tải dữ liệu...")],-1)]))):ye.value?(r(),i("div",Dt,[a(_e,{name:"fade",mode:"out-in"},{default:g(()=>[(r(),i("div",{key:T.value},[T.value==="overview"?(r(),i("div",$t,[e("div",Tt,[e("div",Bt,[e("h4",Nt,[a(D,{path:u(Pe),class:"w-5 h-5 mr-2 text-primary-500"},null,8,["path"]),o[6]||(o[6]=B(" Thời điểm đông khách "))])]),e("div",Vt,[(r(!0),i(S,null,C(p.value.peakHours,(t,k)=>(r(),i("div",{key:k,class:"flex flex-col"},[e("div",At,[e("span",jt,d(t.time),1),e("span",qt,d(t.count)+" lượt ",1)]),e("div",Pt,[e("div",{class:"h-full bg-primary-500 rounded-full transition-all duration-500",style:R({width:`${t.count/Math.max(...p.value.peakHours.map(P=>P.count))*100}%`})},null,4)])]))),128))])]),e("div",Ht,[e("div",Ft,[e("h4",It,[a(D,{path:u(F),class:"w-5 h-5 mr-2 text-green-500"},null,8,["path"]),o[7]||(o[7]=B(" Dịch vụ phổ biến "))])]),e("div",Lt,[(r(!0),i(S,null,C(p.value.popularServices,t=>(r(),i("div",{key:t.id,class:"flex flex-col"},[e("div",Ut,[e("span",Mt,d(t.name),1),e("span",Rt,d(t.bookings)+" đặt ",1)]),e("div",Ot,[e("div",{class:"h-full bg-green-500 rounded-full transition-all duration-500",style:R({width:`${t.bookings/Math.max(...p.value.popularServices.map(k=>k.bookings))*100}%`})},null,4)])]))),128))])])])):V("",!0),T.value==="services"?(r(),i("div",zt,[e("div",Wt,[e("div",Et,[e("h4",Kt,[a(D,{path:u(F),class:"w-5 h-5 mr-2 text-red-500"},null,8,["path"]),o[8]||(o[8]=B(" Dịch vụ bị hủy nhiều "))])]),e("div",Qt,[e("div",Zt,[(r(!0),i(S,null,C(p.value.cancelledServices,t=>(r(),i("div",{key:t.id,class:"flex flex-col p-3 bg-gray-50 dark:bg-dark-hover rounded-lg"},[e("div",Xt,[e("span",Jt,d(t.name),1),e("div",Yt,[e("span",Gt,d(t.cancelled_count)+" lần hủy ",1),e("span",ea,d((t.cancelled_count/t.total_bookings*100).toFixed(1))+"% ",1)])]),e("div",ta,[e("div",{class:"h-full bg-red-500 rounded-full transition-all duration-500",style:R({width:`${t.cancelled_count/Math.max(...p.value.cancelledServices.map(k=>k.cancelled_count))*100}%`})},null,4)])]))),128))])])])])):V("",!0),T.value==="products"?(r(),i("div",aa,[e("div",ra,[e("div",sa,[e("h4",oa,[a(D,{path:u(W),class:"w-5 h-5 mr-2 text-blue-500"},null,8,["path"]),o[9]||(o[9]=B(" Sản phẩm bán chạy "))])]),e("div",la,[e("div",na,[(r(!0),i(S,null,C(p.value.bestSellingProducts,t=>(r(),i("div",{key:t.id,class:"flex flex-col p-3 bg-gray-50 dark:bg-dark-hover rounded-lg"},[e("div",ia,[e("span",da,d(t.name),1),e("span",ca,d(t.sold)+" đã bán ",1)])]))),128))])])]),e("div",ua,[e("div",ma,[e("h4",pa,[a(D,{path:u(F),class:"w-5 h-5 mr-2 text-yellow-500"},null,8,["path"]),o[10]||(o[10]=B(" Sản phẩm sắp hết hàng "))])]),e("div",ga,[e("div",ha,[(r(!0),i(S,null,C(p.value.lowStockProducts,t=>(r(),i("div",{key:t.id,class:"flex flex-col p-3 bg-gray-50 dark:bg-dark-hover rounded-lg"},[e("div",fa,[e("span",ba,d(t.name),1),e("span",ya," Còn "+d(t.stock)+" sản phẩm ",1)])]))),128))])])])])):V("",!0),T.value==="customers"?(r(),i("div",va,[e("div",_a,[e("div",ka,[e("h4",xa,[a(D,{path:u(H),class:"w-5 h-5 mr-2 text-primary-500"},null,8,["path"]),o[11]||(o[11]=B(" Khách hàng thân thiết "))])]),e("div",wa,[e("div",Ca,[(r(!0),i(S,null,C(p.value.topCustomers,t=>(r(),i("div",{key:t.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-dark-hover rounded-lg"},[e("div",Sa,[a(Ee,{username:t.name,class:"w-10 h-10"},null,8,["username"]),e("div",Da,[e("span",$a,d(t.name),1),e("span",Ta,d(t.visit_count)+" lần ghé ",1)])]),e("div",Ba,[e("span",Na,d(new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.total_spent)),1),o[12]||(o[12]=e("span",{class:"text-sm text-gray-500 dark:text-dark-muted"}," tổng chi tiêu ",-1))])]))),128))])])])])):V("",!0)]))]),_:1})])):(r(),i("div",St,[a(D,{path:u(qe),class:"w-16 h-16 mb-4 opacity-50"},null,8,["path"]),o[5]||(o[5]=e("p",null,"Không có dữ liệu thống kê cho khoảng thời gian này",-1)),a(L,{icon:u(te),label:"Tải lại",color:"info",class:"mt-4",onClick:M},null,8,["icon"])]))]),_:1}),a(I,{icon:u(H),title:"Khách hàng mới"},{default:g(()=>[a(L,{icon:u(He),color:"whiteDark",onClick:ge,label:"Xem tất cả","rounded-full":""},null,8,["icon"])]),_:1},8,["icon"]),a(A,{"has-table":"","px-4":"","py-2":"","mx-2":""},{default:g(()=>[a(Oe,{items:c.value,onViewDetails:he},null,8,["items"])]),_:1})]),_:1},8,["is-aside-lg-active"])]),_:1}))}},Ar=de(Va,[["__scopeId","data-v-dfc4e789"]]);export{Ar as default};
